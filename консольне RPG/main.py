import random
import time
from colorama import init, Fore, Back, Style
import keyboard

# Ініціалізація
init()

# Мапа (двовимірний список)
simple_map = [['.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
              ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
              ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
              ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
              ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
              ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
              ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
              ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
              ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
              ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
              ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
              ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
              ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
              ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
              ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
              ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.']]

# Початкова позиція
x, y = 0, 0  # Позиція на карті (x, y)

# Очищаємо консоль
print("\033c", end="")  # ANSI escape code для очищення екрану
print("Натисніть 'q' для виходу...")

# Основний цикл гри
while True:
    if keyboard.is_pressed('d') and x < len(simple_map[0]) - 1:
        x += 1 
    elif keyboard.is_pressed('a') and x > 0:
        x -= 1  
    elif keyboard.is_pressed('w') and y > 0:
        y -= 1  
    elif keyboard.is_pressed('s') and y < len(simple_map) - 1:
        y += 1   

    # Перевіряємо натискання клавіші 'q' для виходу
    if keyboard.is_pressed('q'):
        print("\033c", end="")  # Очистка консолі перед виходом
        break  # Вихід з циклу

    # Оновлюємо мапу
    simple_map = [['.'] * len(simple_map[0]) for _ in range(len(simple_map))]  # Оновлюємо карту, заповнюючи її точками
    simple_map[y][x] = '@'  # Встановлюємо поточну позицію як '@'

    # Очищаємо екран і виводимо новий стан карти
    print("\033c", end="")  # Очищаємо консоль
    for row in simple_map:
        print(''.join(row))  # Виводимо кожен рядок карти як рядок символів

    time.sleep(0.05)  # Зменшена затримка для кращої чутливості

# Після завершення гри, вимикаємо обробку клавіатури
keyboard.unhook_all()  # Вимикаємо всі події клавіатури
