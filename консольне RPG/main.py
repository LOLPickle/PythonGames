import random
import time
from colorama import init, Fore, Back, Style
import keyboard

# Ініціалізація
init()

# Мапа (двовимірний список)
simple_map = [['.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
              ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
              ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
              ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
              ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
              ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
              ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
              ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
              ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
              ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
              ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
              ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
              ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
              ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
              ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
              ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.']]



# Початкова позиція
x, y = 0, 0  # Позиція на карті (x, y)
def Game():
    global x, y
    # Очищаємо консоль
    print("\033c", end="")  # ANSI escape code для очищення екрану
    print("Натисніть 'q' для виходу...")

    # Основний цикл гри
    while True:
        if keyboard.is_pressed('right') and x < len(simple_map[0]) - 1:
            x += 1 
        elif keyboard.is_pressed('left') and x > 0:
            x -= 1  
        elif keyboard.is_pressed('up') and y > 0:
            y -= 1  
        elif keyboard.is_pressed('down') and y < len(simple_map) - 1:
            y += 1   

        # Перевіряємо натискання клавіші 'q' для виходу
        if keyboard.is_pressed('q'):
            print("\033c", end="")  # Очистка консолі перед виходом
            main()

        # Оновлюємо мапу
        simple_map =[['.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
                    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
                    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
                    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
                    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
                    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
                    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
                    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
                    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
                    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
                    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
                    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
                    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
                    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
                    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
                    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.','.', '.', '.', '.', '.', '.', '.', '.', '.', '.']]
                    # Оновлюємо карту, заповнюючи її точками
        simple_map[y][x] = '@'  # Встановлюємо поточну позицію як '@'

        # Очищаємо екран і виводимо новий стан карти
        print("\033c", end="")  # Очищаємо консоль
        for row in simple_map:
            print(''.join(row))  # Виводимо кожен рядок карти як рядок символів

        time.sleep(0.1)  # Зменшена затримка для кращої чутливості




def main():
    current_option = 1  # Початковий вибір меню
    options = 3  # Кількість пунктів меню

    print("\033c", end="")  # Очищення консолі

    while True:
        print("\033c", end="")  # Очищення екрану
        print('   ____     _____   ___    __   _____    _____    _       ______ ')
        print('  / ___|   /  _  \  ||\\    ||  / ____|  /  _   \ | |     |  ____|')
        print(' | |      |  | |  | || \\   || | |____  |  | |  | | |     | |__   ')
        print(' | |      |  | |  | ||  \\  ||  \___  | |  | |  | | |     |  __|  ')
        print(' | |___   |  |_|  | ||   \\ ||   ___| | |  |_|  | | |____ | |____ ')
        print('  \____|   \_____/  ||    \\||  /_____/  \_____/  |______||______|\n')

        # Відображення пунктів меню
        print("> play" if current_option == 1 else "  play")
        print("> settings                                                     ↑   " if current_option == 2 else "  settings                                                     ↑   ")
        print("> exit                                                       ← ↓ →" if current_option == 3 else "  exit                                                       ← ↓ →")

        # Обробка натискань клавіш
        if keyboard.is_pressed('up'):
            current_option -= 1
            if current_option < 1:
                current_option = options  # Переходить до останнього пункту
            time.sleep(0.2)  # Затримка для стабільності

        elif keyboard.is_pressed('down'):
            current_option += 1
            if current_option > options:
                current_option = 1  # Переходить до першого пункту
            time.sleep(0.2)  # Затримка для стабільності

        elif keyboard.is_pressed('enter'):  # Вибір пункту меню
            if current_option == 1:
                print("Запуск гри...")
                time.sleep(1)
                print("\033c", end="")
                Game()
                break
            elif current_option == 2:
                print("Відкриття налаштувань...")
                time.sleep(1)
                break
            elif current_option == 3:
                print("Вихід з програми...")
                time.sleep(1)
                exit()
        
        time.sleep(0.1)
    


    

if __name__ == "__main__":
    main()


